{"ast":null,"code":"export const addToCart = (pizza, quantity, varient) => (dispatch, getState) => {\n  const cartItems = getState().cartReducer.cartItems;\n  const existingItem = cartItems.find(item => item._id === pizza._id && item.varient === varient);\n\n  if (existingItem) {\n    const newQuantity = existingItem.quantity + Number(quantity);\n\n    if (newQuantity > 10) {\n      alert(\"You can only add 10 pizzas\");\n    } else {\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: { ...existingItem,\n          quantity: newQuantity,\n          price: pizza.prices[0][varient] * newQuantity\n        }\n      });\n    }\n  } else {\n    const cartItem = {\n      name: pizza.name,\n      _id: pizza._id,\n      image: pizza.image,\n      varient: varient,\n      quantity: Number(quantity),\n      prices: pizza.prices,\n      price: pizza.prices[0][varient] * quantity\n    };\n\n    if (cartItem.quantity > 10) {\n      alert(\"You can only add 10 pizzas\");\n    } else {\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cartItem\n      });\n    }\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cartReducer.cartItems));\n};\nexport const deleteFromCart = pizza => (dispatch, getState) => {\n  dispatch({\n    type: \"DELETE_FROM_CART\",\n    payload: pizza\n  });\n  const cartItems = getState().cartReducer.cartItems;\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};","map":{"version":3,"sources":["C:/Users/dhira/Downloads/pizza-shop/client/src/actions/cartAction.js"],"names":["addToCart","pizza","quantity","varient","dispatch","getState","cartItems","cartReducer","existingItem","find","item","_id","newQuantity","Number","alert","type","payload","price","prices","cartItem","name","image","localStorage","setItem","JSON","stringify","deleteFromCart"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,OAAlB,KAA8B,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC5E,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,WAAX,CAAuBD,SAAzC;AAEA,QAAME,YAAY,GAAGF,SAAS,CAACG,IAAV,CAAgBC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaV,KAAK,CAACU,GAAnB,IAA0BD,IAAI,CAACP,OAAL,KAAiBA,OAApE,CAArB;;AAEA,MAAIK,YAAJ,EAAkB;AAChB,UAAMI,WAAW,GAAGJ,YAAY,CAACN,QAAb,GAAwBW,MAAM,CAACX,QAAD,CAAlD;;AACA,QAAIU,WAAW,GAAG,EAAlB,EAAsB;AACpBE,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,KAFD,MAEO;AACLV,MAAAA,QAAQ,CAAC;AACPW,QAAAA,IAAI,EAAE,aADC;AAEPC,QAAAA,OAAO,EAAE,EACP,GAAGR,YADI;AAEPN,UAAAA,QAAQ,EAAEU,WAFH;AAGPK,UAAAA,KAAK,EAAEhB,KAAK,CAACiB,MAAN,CAAa,CAAb,EAAgBf,OAAhB,IAA2BS;AAH3B;AAFF,OAAD,CAAR;AAQD;AACF,GAdD,MAcO;AACL,UAAMO,QAAQ,GAAG;AACfC,MAAAA,IAAI,EAAEnB,KAAK,CAACmB,IADG;AAEfT,MAAAA,GAAG,EAAEV,KAAK,CAACU,GAFI;AAGfU,MAAAA,KAAK,EAAEpB,KAAK,CAACoB,KAHE;AAIflB,MAAAA,OAAO,EAAEA,OAJM;AAKfD,MAAAA,QAAQ,EAAEW,MAAM,CAACX,QAAD,CALD;AAMfgB,MAAAA,MAAM,EAAEjB,KAAK,CAACiB,MANC;AAOfD,MAAAA,KAAK,EAAEhB,KAAK,CAACiB,MAAN,CAAa,CAAb,EAAgBf,OAAhB,IAA2BD;AAPnB,KAAjB;;AASA,QAAIiB,QAAQ,CAACjB,QAAT,GAAoB,EAAxB,EAA4B;AAC1BY,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,KAFD,MAEO;AACLV,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,OAAO,EAAEG;AAAhC,OAAD,CAAR;AACD;AACF;;AACDG,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAepB,QAAQ,GAAGE,WAAX,CAAuBD,SAAtC,CAAlC;AACD,CApCK;AAsCN,OAAO,MAAMoB,cAAc,GAAIzB,KAAD,IAAW,CAACG,QAAD,EAAWC,QAAX,KAAwB;AAC/DD,EAAAA,QAAQ,CAAC;AAAEW,IAAAA,IAAI,EAAE,kBAAR;AAA4BC,IAAAA,OAAO,EAAEf;AAArC,GAAD,CAAR;AACA,QAAMK,SAAS,GAAGD,QAAQ,GAAGE,WAAX,CAAuBD,SAAzC;AACAgB,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAenB,SAAf,CAAlC;AACD,CAJM","sourcesContent":["export const addToCart = (pizza, quantity, varient) => (dispatch, getState) => {\r\n   const cartItems = getState().cartReducer.cartItems;\r\n \r\n   const existingItem = cartItems.find((item) => item._id === pizza._id && item.varient === varient);\r\n \r\n   if (existingItem) {\r\n     const newQuantity = existingItem.quantity + Number(quantity);\r\n     if (newQuantity > 10) {\r\n       alert(\"You can only add 10 pizzas\");\r\n     } else {\r\n       dispatch({\r\n         type: \"ADD_TO_CART\",\r\n         payload: {\r\n           ...existingItem,\r\n           quantity: newQuantity,\r\n           price: pizza.prices[0][varient] * newQuantity,\r\n         },\r\n       });\r\n     }\r\n   } else {\r\n     const cartItem = {\r\n       name: pizza.name,\r\n       _id: pizza._id,\r\n       image: pizza.image,\r\n       varient: varient,\r\n       quantity: Number(quantity),\r\n       prices: pizza.prices,\r\n       price: pizza.prices[0][varient] * quantity,\r\n     };\r\n     if (cartItem.quantity > 10) {\r\n       alert(\"You can only add 10 pizzas\");\r\n     } else {\r\n       dispatch({ type: \"ADD_TO_CART\", payload: cartItem });\r\n     }\r\n   }\r\n   localStorage.setItem(\"cartItems\", JSON.stringify(getState().cartReducer.cartItems));\r\n };\r\n \r\n export const deleteFromCart = (pizza) => (dispatch, getState) => {\r\n   dispatch({ type: \"DELETE_FROM_CART\", payload: pizza });\r\n   const cartItems = getState().cartReducer.cartItems;\r\n   localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n };\r\n "]},"metadata":{},"sourceType":"module"}